train_cpu:
  cmd: python -m spacy run train_cpu
  script:
    - python -m spacy train configs/rel_tok2vec.cfg --output training --paths.train
      data/train.spacy --paths.dev data/dev.spacy -c ./scripts/custom_functions.py
  deps:
    - path: data/train.spacy
      md5: 193c36d480b193a41a28bf5cb27d70e1
    - path: data/dev.spacy
      md5: c1d2b1ae79f0daf8c24f85c16bd93258
  outs:
    - path: training/model-best
      md5: 3c5df18d47dec77bb1ab6af480e01592
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python ./scripts/evaluate.py training/model-best data/test.spacy True
  deps:
    - path: training/model-best
      md5: 3c5df18d47dec77bb1ab6af480e01592
    - path: data/test.spacy
      md5: 51459803bc2a567f3124d87779c02024
  outs: []
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
data:
  cmd: python -m spacy run data
  script:
    - python ./scripts/parse_data.py assets/SDC_training_dict.json data/train.spacy
      data/dev.spacy data/test.spacy
  deps:
    - path: assets/SDC_training_dict.json
      md5: 1ddeaf19a15114e224fe5a209e86b5cb
  outs:
    - path: data/train.spacy
      md5: 193c36d480b193a41a28bf5cb27d70e1
    - path: data/dev.spacy
      md5: c1d2b1ae79f0daf8c24f85c16bd93258
    - path: data/test.spacy
      md5: 51459803bc2a567f3124d87779c02024
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
train_gpu:
  cmd: python -m spacy run train_gpu
  script:
    - python -m spacy train configs/rel_trf.cfg --output training --paths.train data/train.spacy
      --paths.dev data/dev.spacy -c ./scripts/custom_functions.py --gpu-id 0
  deps:
    - path: data/train.spacy
      md5: f8a5d931baca0361bcb2e4ee70cf2c82
    - path: data/dev.spacy
      md5: e3185406a8b626e2ef901fde86be86ed
  outs:
    - path: training/model-best
      md5: ef0babcc2f040e19fced8504616e230a
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
